<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reclutas de 2 meses</title>

    <!--BOOSTRAP-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <link rel="stylesheet" href="../css/ventanas.css">
    
</head>

<body>
    <div class="container bg-dark">
        <div class="row">
            <div class="col">
                <h2 class="text-center">Reclutas con 2 meses</h2>
                <table class="crud-table table table-striped  bg-light">
                    <thead>
                        <tr>
                            <th>id</th>
                            <th>Nombre</th>
                            <th>Edad</th>
                            <th>Telefono</th>
                            <th>Email</th>
                            <th>Dirección</th>
                            <th>Fecha de Nacimiento</th>
                            <th>Número de Identificación</th>
                            <th>Fecha de Ingreso al programa</th>
                            <th>Id_Team</th>
                        </tr>
                    </thead>
                    <tbody id="tabla"></tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col"></div>
            <div class="col-2">
                <div class="list-group">
                    <a href="../index.html" class="list-group-item list-group-item-action text-center">← Volver</a>
                </div>
            </div>
            <div class="col"></div>
        </div>
    </div>

    <script>
        function contruirTabla(recluta) {
            recluta.forEach(e => {
                if((e.fechaIngreso).split("-")[1]<02){
                    document.getElementById("tabla").innerHTML += `
                    <tr>
                    <td class="id">${e.id}</td>
                    <td class="nombre">${e.nombre}</td>
                    <td class="edad">${e.edad}</td>
                    <td class="telefono">${e.telefono}</td>
                    <td class="mail">${e.mail}</td>
                    <td class="direccion">${e.direccion}</td>
                    <td class="fechaNacimiento">${e.fechaNacimiento}</td>
                    <td class="numeroId">${e.numeroId}</td>
                    <td class="fechaIngreso">${e.fechaIngreso}</td>
                    <td class="TeamId">${e.TeamId}</td>
                    </tr>`
                }

                 
            });
        }

        function obtenerDatos() {
            fetch(`http://localhost:3000/Reclutas`)
                .then(res => res.json())
                .then(datos => {
                    contruirTabla(datos)
                    console.log(datos)
                })
                .catch((err) => {
                    console.log("Error al consumir la API\n", err.message);
                })
                .finally(() => {
                    console.log("Se ha consumido el API");
                })
        }

        obtenerDatos();
    </script>
</body>

</html>